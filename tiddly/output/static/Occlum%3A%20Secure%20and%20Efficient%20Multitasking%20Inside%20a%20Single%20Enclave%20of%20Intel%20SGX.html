<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.2.2" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Occlum: Secure and Efficient Multitasking Inside a Single Enclave of Intel SGX: ya0guang's notebook

â€” Personality Backup
</title>
</head>
<body class="tc-body">

<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-Paper tc-tagged-Research tc-tagged-Security tc-tagged-SGX tc-tagged-Defense tc-tagged-System" data-tags="Paper Research Security SGX Defense System" data-tiddler-title="Occlum: Secure and Efficient Multitasking Inside a Single Enclave of Intel SGX"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><button aria-expanded="false" aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span><span class="tc-tiddler-title-icon" style="fill:;"></span><h2 class="tc-title">Occlum: Secure and Efficient Multitasking Inside a Single Enclave of Intel SGX</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>May 6, 2021 at 11:40 am</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item" data-tag-title="Defense">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
Defense
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="Paper">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
Paper
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="Research">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
Research
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="Security">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
Security
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="SGX">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
SGX
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span><span class="tc-tag-list-item" data-tag-title="System">
<span aria-expanded="false" class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:rgb(38, 38, 38);
color:rgb(38, 38, 38);">
System
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span></div>
</div>

<div class="tc-tiddler-body tc-reveal"><p><strong>ASPLOS'20</strong></p><ul><li><a class="tc-tiddlylink-external" href="https://dl.acm.org/doi/10.1145/3373376.3378469" rel="noopener noreferrer" target="_blank">Paper</a></li><li><a class="tc-tiddlylink-external" href="https://arxiv.org/abs/2001.07450" rel="noopener noreferrer" target="_blank">arxiv</a></li><li><a class="tc-tiddlylink-external" href="https://github.com/occlum/occlum" rel="noopener noreferrer" target="_blank">Code</a></li></ul><h1 class="">Abstract </h1><blockquote class="tc-quote"><p>Intel Software Guard Extensions (SGX) enables user-level code to create private memory regions called enclaves, whose code and data are protected by the CPU from software and hardware attacks outside the enclaves. Recent work introduces library operating systems (LibOSes) to SGX so that legacy applications can run inside enclaves with few or even no modifications. As virtually any non-trivial application demands multiple processes, it is essential for LibOSes to support multitasking. However, none of the existing SGX LibOSes support multitasking both securely and efficiently.</p><p>This paper presents Occlum, a system that enables secure and efficient multitasking on SGX. We implement the LibOS processes as SFI-Isolated Processes (SIPs). SFI is a software instrumentation technique for sandboxing untrusted modules (called domains). We design a novel SFI scheme named MPX-based, Multi-Domain SFI (MMDSFI) and leverage MMDSFI to enforce the isolation of SIPs. We also design an independent verifier to ensure the security guarantees of MMDSFI. With SIPs safely sharing the single address space of an enclave, the LibOS can implement multitasking efficiently. The Occlum LibOS outperforms the state-of-the-art SGX LibOS on multitasking-heavy workloads by up to 6,600x on micro-benchmarks and up to 500x on application benchmarks.</p></blockquote><h1 class="">Motivation &amp; Target &amp; Model</h1><ul><li>Modern services are highly interdependent, therefore putting some service into the enclave requires some other corresponding services</li><li>One Library OS to serve multiple process in ONE enclave</li><li>Separation between LibOS and processes, and among processes</li><li>Adversarial binary leaks no sensitive info</li><li>Injecting new code is prevented, but control flow may not be guaranteed</li></ul><h1 class="">Design</h1><p><img class=" tc-image-loading" src="https://raw.githubusercontent.com/occlum/occlum/master/docs/images/arch_overview.png"></p><ul><li>SFI to isolate processes (MMDSFI)</li><li>Memory access and control flow are restricted</li><li>Thus enhance performance of certain tasks: avoid enclave creation, <code>fork</code> -&gt; <code>spawn</code></li></ul><h1 class="">Method</h1><ul><li>Two pseudo-instructions: <code>cfi_label</code> and <code>cfi-guard</code> to indicate a valid call site and check if the site is valid, respectively.</li><li>Binary is generated outside of enclave (using Occlum's instrumented compilier) and verified in the enclave</li></ul></div>
</div></p>
</section>
</body>
</html>

